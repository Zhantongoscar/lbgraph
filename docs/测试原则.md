# 测试原则

##### 1 所有的PE N 相关节点连接不做测试。
##### 2 删除所有的 K1.** 之外的内容。
##### 3 所有的外部连接点是 X20 X21 X22 ;内部连接点 A打头的设备连接点。
##### 4 在后续仿真模块会提供PLC的DI DO AI AO 设备，会按名称和需要匹配PLC；这样内部仿真就有了IO的特征。
##### 5 在外部仿真的连接位置，会基于内部已有类型，匹配另外终端仿真类型。


节点分类：

可设定（发送电压）的点：
• sim 类型中标记为 B 的节点（代表仿真设备中的电压输出端）
• PLC 类型中具有 DO（数字输出）和 AO（模拟输出）属性的节点

可检测（接收、测量）的点：
• sim 类型中标记为 D 的节点（代表仿真设备中的电压检测端）
• PLC 类型中具有 DI（数字输入）和 AI（模拟输入）属性的节点

panel 类型的节点和它们之间的边关系则代表实际电柜中导线和接点的物理连接，即被测对象。

整体流程与分析：

首先，从数据库中提取所有节点，并根据节点的 type 和其附加属性（比如 Function 或 Device 信息）将它们分类为“可设定”和“可检测”的点。

平台中默认PLC节点是以固定连接方式存在的；而sim节点则是开放式的，并且目前可能存在多个候选点。为了测量每个“路由通道”（即图论中各个连接路径）是否能正确实现传输，需要在每个实际路由（连接通道）的两端都建立对应的点：
• 在路由的一个端点需要选择一个属于“可设定”的节点（发送点），
• 另一个端点选择一个“可检测”的节点（接收点）。

真值表的每一行将记录一个完整的测试路由：
• 记录发送点的标识（例如 sim 的 B 或 PLC 的 DO/AO 节点），
• 同时记录与其相连的检测点列表（例如 sim 的 D 或 PLC 的 DI/AI 节点，以及相应的 panel 测试点——panel的点和边构成的路由被用来验证实际导线连接的有效性）。
• 同时记录预期状态（例如，预期电压为1表示连通，0表示断开）。

关键点说明：

对于 PLC 来说，所有内部连接都是默认连通的，不需要额外选择；而对于 sim 节点，由于它们的连接是“开放”状态，需要明确配置（通过图论提供连接关系），即在测试前要建立发送点和检测点之间的对应连接，这样图论中每个路由才能被验证。
这个过程实际上是将图论中每条可能的路由“标记”出来，指定哪端作为电压输出（发送），哪端作为测量输入（检测）。
真值表形成后，实际测试时：
• 根据真值表中指定的发送点，通过硬件接口施加电压；
• 在检测点上进行电压测量，获取实际的测量状态；
• 将实际测量结果与真值表中的预期状态进行比对，进而判断该路由（或该导线连接）是否符合预期，检测接线质量。
总之，测试真值表的编写需要先对图论中的节点进行分类、筛选，然后根据“发送点—检测点”的原则，建立每个路由的对应关系，最终形成一张映射每个测试用例（路由）预期电压状态的表格。这样既能反映图论中连接关系的逻辑，也能够为后续的实际接线质量检测提供明确的对比依据。

