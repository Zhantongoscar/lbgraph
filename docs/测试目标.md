当前项目数据来源与两个数据导入文件，import_csv_data_panel.py 和 import_mysql_sim.py。

1 图论中 vertex的type属性是 panel 和 PLC是电柜的图论元素。PLC的vertex是可以设定电压或者检查电压的点。
2 图论中vertex的type属性 是sim的vertex是我用于做电压输出 和 检测电压的仿真节点。
3 我想利用当前的图论，结合实际与图论制造的实际电柜实际接线，对实际的电柜接线进行接线质量的检测。
4 底层逻辑是，我在图论上给一个点电压，看看图论会把这个电压传递给哪些点，我理论上应该在哪个点测量到电压。
我会按照这个，写一个测试真值表知道实际测试，实际也是给这个点电压，在目标点测量电压，如果测量结果符合预期，则说明图论中的这些连接质量通过，如果和预期值不同，则路由的连接集认为可能有质量问题。注意电压测量不是复杂的电压值，而是类似于有电没电的这样的状态值，用于判断导线是否连接。
5 图论中的点，type为panel的时候，其Device为 X20 X21 X22 的vertex 是sim可以连接的点。这样看来，我们可以操作和检测的点是sim连接X2* 和 PLC的Vertex。
6 我们当前软件的目标，是建立这个测试真值表，并利用现有的资源，sim（以后可以增加内容）测量尽可能的conn连接。
7. 测试级别管理  
   - 测试分为两种级别：  
     - safelevel（安全测试组）：安全测试必须按顺序执行（例如：test1完成后才能进行test2），且所有安全测试必须保持有效状态，才能开启后续 nomallevel。  
     - nomallevel（普通测试）：只有在所有 safelevel 安全测试有效的前提下才开展；一旦安全继电器触发复位，其测试条件将全部失效。

8. 真值表生成设计  
   - 其中硬件部分4和5（电压施加与检测）由其他团队完成。  
   - 我们的任务是基于图论数据设计真值表生成机制，具体包括：  
     1. 从Neo4j中查询所有关键测试点及连接关系。  
     2. 根据接线规则（例如A单元：若存在edge则有效，否则无效）构建预期状态。  
     3. 自动生成包含测试源、目标、预期状态等信息的真值表。  
     4. 为后续测试流程提供数据支撑，实现预期与实际结果比对。

9. 真值表数据流程讨论  
   - 基于当前的测试数据流程，我们的思路是先从Neo4j中获取所有测试点和连接数据，然后遍历每条连接，针对每个连接组成测试项。  
   - 对于每个测试项，会判断连接是否有效（例如：A单元中若存在edge则表示有效）。  
   - 测试过程中，不仅单个连接会被标记，其相邻连接的预期状态也会随之更新，最终形成全局的真值表。  
   - 详细流程如下：
   
   ```mermaid
   flowchart TD
       A[获取Neo4j测试点和连接数据] --> B[遍历所有连接生成测试项]
       B --> C[判断连接状态：edge 存在与否]
       C --> D{连接有效?}
       D -- Yes --> E[标记测试项为有效]
       D -- No --> F[标记测试项为无效]
       E --> G[更新相邻连接预期状态]
       F --> G
       G --> H[整合所有测试项形成真值表]
       H --> I[测试执行流程（safelevel/nomallevel）调用]
       I --> J[比对测试结果并生成报告]
   ```

10. 数据流和测试过程方法（专业描述）

   为确保电柜接线质量得以系统验证，真值表生成与测试流程设计需遵循以下原则和步骤：
   
   1. 数据准备与输入验证  
      - 从Neo4j采集所有测试点及连接数据，确保数据完整性，并验证sim节点与目标节点（PLC、panel）的匹配关系；  
      - 仅当连接两端均具备预期输入/输出角色时，才视为满足测试条件。

   2. 连接遍历与测试项生成  
      - 遍历所有连接记录，每条边生成一个或多个测试项，记录测试源、目标、预期电压状态及多路由信息；  
      - 根据接线规则（例如A单元中edge存在表示有效）判断测试项初始状态；  
      - 若同一连接参与多个测试组，需在真值表中为每个路由生成单独测试项。

   3. 路由状态管理与动态更新  
      - 每个测试项附带状态标识，如“待测试”、“测试中”、“测试完成”、“测试异常”或“不可测试”；  
      - 测试过程中，根据电压检测结果动态更新对应连接及其路由的状态；  
      - 特殊情况下，可能触发状态切换（如A单元状态变化以连接不同路由组），要求测试项能灵活响应多路由状态变动。

   4. 测试执行与结果整合  
      - 按照测试级别（safelevel与nomallevel）分组执行测试，确保所有前置条件满足后再启动下一级测试；  
      - 将各项检测结果整合进全局真值表，比较预期与实际电压状态，进而生成详尽测试报告，支持后续优化与异常分析。

   整体流程图示如下：

   ```mermaid
   flowchart TD
       A[采集Neo4j数据：测试点与连接] --> B[数据校验：匹配输入/输出要求]
       B --> C[遍历连接生成测试项]
       C --> D[判断连接有效性（edge存在否）]
       D --> E{是否支持多路由?}
       E -- Yes --> F[生成多个测试项，记录多路由状态]
       E -- No --> G[生成单一测试项]
       F --> H[执行各路由测试，动态更新状态]
       G --> H
       H --> I{测试结果与预期匹配?}
       I -- Yes --> J[标记为“测试完成”]
       I -- No --> K[标记为“测试异常”，记录详情]
       J --> L[整合进全局真值表 & 生成报告]
       K --> L
   ```

   我们先讨论导入MySQL的的点。之前就是简单举个例子。现在我们详细说明一下。首先 sim的类型有怎么多品种，在device_types表中。内容如下：/*