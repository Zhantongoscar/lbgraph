# 继电器设备的图论建模

## 1. 继电器特性
- 控制端：线圈两端
- 受控端：触点组
- 状态转换：
  * 线圈通电：常开触点闭合，常闭触点断开
  * 线圈断电：恢复初始状态

## 2. 模型设计
1. 节点表示
   - 控制节点：线圈两端
   - 触点节点：每个触点作为一个节点

2. 边表示
   - 控制边：线圈连接
   - 常开边：初始断开，通电后连接
   - 常闭边：初始连接，通电后断开

3. 状态管理
   - 定义继电器状态变量
   - 根据线圈电压更新状态
   - 动态调整边连接

## 3. 数据结构
```python
class Relay:
    def __init__(self, coil_nodes, normally_open, normally_closed):
        self.coil = coil_nodes  # 线圈两端
        self.no = normally_open  # 常开触点
        self.nc = normally_closed  # 常闭触点
        self.state = False  # 初始状态

    def update_state(self, voltage):
        self.state = voltage > threshold
        return self.state

    def get_connections(self):
        if self.state:
            return self.no  # 返回闭合触点
        else:
            return self.nc  # 返回断开触点
```

## 4. 算法流程
1. 初始化
   - 创建继电器对象
   - 设置初始连接

2. 状态更新
   - 计算线圈电压
   - 调用update_state
   - 获取当前连接

3. 图更新
   - 移除旧连接
   - 添加新连接
   - 更新邻接表

## 5. 示例
继电器K1：
- 线圈：A,B
- 常开：C,D
- 常闭：C,E

状态转换：
- 断电：C-E连接
- 通电：C-D连接